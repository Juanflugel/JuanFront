<md-card layout="row" flex>
    <md-list flex>
        <!--  sub header de la seccion assemblies -->
        <md-subheader  class="md-no-sticky">        
            <div layout="row">
                <span flex > {{$ctrl.assemblies.length}} Assemblies</span>
                <span flex></span>
                     <span ng-click="startNewAssembly=true">
                        <i class="fa fa-plus fa-lg" ></i>
                        <md-tooltip>
                            Create a New Asembly
                        </md-tooltip>
                    </span>
                </div>
        </md-subheader>
             
        <md-progress-linear md-mode="query" ng-disabled="$ctrl.progressBardisable"></md-progress-linear>
             <!--  sub header de la seccion assemblies -->
            <md-divider ></md-divider>
               <!-- Form To create a new assembly -->
               <div layout="column"  flex ng-show="startNewAssembly || $ctrl.editAssemblyInfo"> <br>
                <br>
                    <md-input-container class="iForm">
                        <label>assembly Name</label>
                        <input type="text" ng-model="$ctrl.Objassembly.assemblyName" autofocus>
                    </md-input-container>
                    <md-input-container class="iForm">
                        <label>assembly Number</label>
                        <input type="text" ng-model="$ctrl.Objassembly.assemblyNumber">
                    </md-input-container>

                     <div layout="row" layout-margin>

                        <md-input-container >
                            <label>Sub Name</label>
                            <input type="text" ng-model="$ctrl.subObj.subAssemblyName">
                        </md-input-container>
                        <md-input-container >
                            <label>Sub Number</label>
                            <input type="text" ng-model="$ctrl.subObj.subAssemblyNumber">
                        </md-input-container>
                         <i ng-click="$ctrl.pushSubAssembly($ctrl.subObj)"  layout-padding class="fa fa-check-circle fa-lg text-success" >    
                        </i>
                    </div>

                    <div layout="row">
                        <table class="table table-hover table-responsive panel">  
                            <thead>
                                <tr class="table">
                                    <th class="text-center"> <p>Sub Assembly</p></th>               
                                    <th class="text-center"><p>Number</p></th>
                                    <th class="text-center"><p>Del</p></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="subAssembly in $ctrl.Objassembly.subAssemblies" class="text-center">
                                    <td class="iTable">{{subAssembly.subAssemblyName}}</td>
                                    <td class="iTable">{{subAssembly.subAssemblyNumber}}</td>
                                    <td class="iTable"> <i ng-click="$ctrl.pullSubAssembly(subAssembly,$event)"class="fa fa-times"></i></td>
                                </tr>
                            </tbody>   
                        </table>
                    </div>     
                                             
                   

                    <div layout="row"  flex>
                        <span flex></span>

                        <i ng-show="startNewAssembly" ng-click="createAssembly(Objassembly)"  layout-margin layout-padding class="fa fa-check-circle fa-2x text-success" >    
                        </i>
                        <i ng-show="startNewAssembly" ng-click="startNewAssembly=false" layout-margin layout-padding  class="fa fa-times fa-2x text-danger"></i>
                        <i ng-hide="startNewAssembly" ng-click="updateAssemblyInfo(Objassembly)" layout-padding layout-margin class="fa fa-check-circle fa-2x text-success" >    
                        </i>
                        <i ng-hide="startNewAssembly" ng-click="$ctrl.forgetEditAssembly()" layout-margin  layout-padding class="fa fa-times fa-2x text-danger"></i>
                        &nbsp; &nbsp;
                    </div>      
<br><br><br>
                </div>
                <!-- Form To create a new assembly -->
            <md-divider ></md-divider>
                <md-list-item class="md-2-line"  ng-repeat="assembly in $ctrl.assemblies" ng-click="$ctrl.showAssemblyDetails(assembly,$index)">
                    <img src="icon.png" class="md-avatar" alt="" />
                    <div class="md-list-item-text" layout="column">
                        <p>{{assembly.assemblyName}}</p>
                        <p>{{assembly.assemblyNumber}}</p>
                    </div>
                 <md-menu class="md-secondary">
                    <md-button class="md-icon-button" aria-label="Open" ng-click="$mdOpenMenu($event)">
                        <i class="fa fa-ellipsis-v fa-lg" aria-hidden="true"></i>
                    </md-button>
                    <md-menu-content width="4">
                        <md-menu-item>
                            <md-button ng-click="$ctrl.editAssembly(assembly)">
                                Edit Assembly 
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-click="deleteAssembly(assembly)">
                             Delete Assembly
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
                  <md-divider ></md-divider>
                </md-list-item>         
    </md-list>

</md-card>